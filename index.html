<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1092, initial-scale=0.352, minimum-scale=0.165, maximum-scale=3.3, user-scalable=yes">
    <title>图表生成</title>
    
    <!-- Favicon for different devices -->
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/4496-DDPmyEHw.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/4496-DDPmyEHw.png">
    <link rel="shortcut icon" href="./assets/4496-DDPmyEHw.png">
    
    <!-- Apple Touch Icon for iOS devices -->
    <link rel="apple-touch-icon" href="./assets/4496-DDPmyEHw.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/4496-DDPmyEHw.png">
    
    <!-- Android Chrome -->
    <link rel="icon" sizes="192x192" href="./assets/4496-DDPmyEHw.png">
    <link rel="icon" sizes="512x512" href="./assets/4496-DDPmyEHw.png">
    
  <script type="module" crossorigin src="./assets/index-BaFCRDVS.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-CbDpIejI.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>图表设置</h2>
                <button id="reset-dashboard" class="inline-btn subtle">重置</button>
            </div>

            <div class="control-group compact-gap">
                <label for="chart-type">图表类型</label>
                <select id="chart-type">
                    <option value="bar">柱状图（分组）</option>
                    <option value="bar-stacked">柱状图（堆叠）</option>
                    <option value="bar-horizontal">条形图（水平）</option>
                    <option value="line">折线图</option>
                    <option value="area">面积图</option>
                    <option value="area-stacked">堆积面积图</option>
                    <option value="pie">饼图</option>
                    <option value="donut">环形图</option>
                    <option value="histogram">直方图</option>
                    <option value="radar">雷达图 / 蜘蛛图</option>
                    <option value="bar-line">柱状折线混合图</option>
                    <option value="bubble">气泡图（Bubble Chart）</option>
                    <option value="streamgraph">流图（Streamgraph）</option>
                    <option value="treemap">矩形树图（Treemap）</option>
                </select>
            </div>

            <div class="control-group compact-gap">
                <label>图表方向</label>
                <div class="toggle-switch">
                    <button id="orientation-vertical" class="active">竖向</button>
                    <button id="orientation-horizontal">横向</button>
                </div>
            </div>

            <div id="mixed-types-group" class="control-group hidden">
                <label>混合图系列类型（为每个对比量选择柱/线）</label>
                <div id="mixed-types-container"></div>
            </div>

            <div id="single-series-wrap" class="control-group hidden">
                <label for="single-series-select">单系列选择（用于饼/环/直方/树图）</label>
                <select id="single-series-select"></select>
            </div>

            <div id="donut-wrap" class="control-group hidden">
                <label for="donut-cutout">环形内径比例（%）<span id="donut-cutout-value">50</span></label>
                <input type="range" id="donut-cutout" min="0" max="80" value="50">
            </div>

            <div id="pie-size-wrap" class="control-group hidden">
                <label for="pie-radius">饼/环半径大小（%）<span id="pie-radius-value">65</span></label>
                <input type="range" id="pie-radius" min="40" max="100" value="65">
            </div>

            <div id="area-opacity-wrap" class="control-group hidden">
                <label for="area-opacity">面积透明度（%）<span id="area-opacity-value">35</span></label>
                <input type="range" id="area-opacity" min="0" max="100" value="35">
            </div>

            <div id="hist-wrap" class="control-group hidden">
                <label for="hist-bins">直方图分箱数 <span id="hist-bins-value">10</span></label>
                <input type="range" id="hist-bins" min="3" max="30" value="10">
            </div>

            <div id="bubble-data-wrap" class="control-group hidden">
                <h4>气泡图数据配置</h4>
                <div class="info-hint">💡 提示：气泡大小仅接受正数值。负数将取绝对值。</div>
                <label>
                    <input type="checkbox" id="bubble-use-custom-xy">
                    使用自定义X/Y坐标（为每个数据点单独指定X和Y值）
                </label>
                <div id="bubble-xy-inputs" class="hidden" style="margin-top: 10px;">
                    <label for="bubble-x-data">X轴数据（逗号分隔，数量应与标签一致）</label>
                    <textarea id="bubble-x-data" rows="2" placeholder="例如: 10, 20, 30, 40, 50"></textarea>
                    <label for="bubble-y-data">Y轴数据（逗号分隔，数量应与标签一致）</label>
                    <textarea id="bubble-y-data" rows="2" placeholder="例如: 65, 72, 58, 80, 63"></textarea>
                </div>
            </div>

            <div class="control-group compact-gap">
                <label for="chart-title">图表标题</label>
                <input type="text" id="chart-title" value="我的图表">
            </div>

            <div class="control-group compact-gap">
                <label>主题模式</label>
                <div class="toggle-switch">
                    <button id="theme-light" class="active">亮色</button>
                    <button id="theme-dark">暗色</button>
                </div>
            </div>

            <div class="control-group color-input" id="theme-background-control">
                <label for="export-bg">背景色</label>
                <input type="color" id="export-bg" value="#FFFFFF">
            </div>

            <div class="control-group" id="axis-title-wrap">
                <h4>轴标题</h4>
                <label for="x-axis-title">X 轴标题</label>
                <input type="text" id="x-axis-title">
                <div class="control-group">
                    <button id="axis-swap-btn" class="inline-btn" title="互换 X 与 Y 轴">⇅ 互换</button>
                </div>
                <label for="y-axis-left-title">Y 轴左标题</label>
                <input type="text" id="y-axis-left-title">
                <label for="y-axis-right-title">Y 轴右标题（双轴时）</label>
                <input type="text" id="y-axis-right-title">
            </div>

            

            <div class="control-group">
                <label for="labels-input">标签（按顺序，逗号分隔）</label>
                <textarea id="labels-input" rows="3">数据点 1, 数据点 2, 数据点 3, 数据点 4, 数据点 5</textarea>
            </div>

            

            <div class="control-group">
                <label for="palette-select">一键配色方案</label>
                <select id="palette-select">
                    <option value="bright">明快 Bright</option>
                    <option value="pastel">马卡龙 Pastel</option>
                    <option value="ocean">海洋 Ocean</option>
                    <option value="sunset">日落 Sunset</option>
                    <option value="mint">薄荷 Mint</option>
                    <option value="warm">暖色 Warm</option>
                    <option value="cool">冷色 Cool</option>
                </select>
            </div>

            

            <div class="control-group">
                <h4>导出</h4>
                <label for="export-type">格式</label>
                <select id="export-type">
                    <option value="png">PNG</option>
                    <option value="svg">SVG（矢量，适用于 D3 图）</option>
                </select>
                <label for="export-scale">分辨率倍率 <span id="export-scale-value">2</span>x</label>
                <input type="range" id="export-scale" min="1" max="4" value="2">
                <button id="export-image">导出图片</button>
            </div>

        </div>
        <div class="divider" aria-hidden="true"></div>
        <div class="main-content">
            <div class="chart-wrap">
                <canvas id="myChart"></canvas>
                <svg id="d3Chart" class="hidden"></svg>
            </div>
            <div id="chart-selected-label" class="chart-subnote hidden"></div>
        </div>
        <div class="divider" aria-hidden="true"></div>
        <div class="rightbar">
            <div id="data-controls">
                <div class="sidebar-header">
                    <h2>数据设置</h2>
                    <div class="dataset-actions">
                        <button id="add-dataset" class="inline-btn subtle">增加</button>
                        <button id="remove-dataset" class="inline-btn subtle">减少</button>
                    </div>
                </div>
                <div id="dataset-container">
                    <!-- Datasets will be added here dynamically -->
                </div>
            </div>
        </div>
    </div>

</body>
</html>

